# Инициализация Vulkan

## Предварительная подготовка

В нашем учебном примере мы будем писать, на C++, что-то вроде примитивного графического движка, а поэтому нам необходима неготорая стратовая архитектура нашего проекта. Создадим главный класс VulkanEngine, инкапсулирующий все механизмы взаимодействия нашего приложения с Vulkan API.

**vk_engine.h**
```cpp
#ifndef     VK_ENGINE_H
#define     VK_ENGINE_H

#include	<vk_types.h>

/*!
 * \class
 * \brief Простейший графический движок на Vulkan API
 */
//------------------------------------------------------------------------------
//
//------------------------------------------------------------------------------
class VulkanEngine
{
public:

    VulkanEngine() = default;

    ~VulkanEngine() = default;

    /// Инициализация движка
    void init();

    /// Очистка структур данных движка
    void cleanup();

    /// Запуск движка
    void run();

private:


};

#endif

```
с соответствующей реализацией в файле vk_engine.cpp, пока что пустой

**vk_engine.cpp**
```cpp
#include    <vk_engine.h>

//------------------------------------------------------------------------------
//
//------------------------------------------------------------------------------
void VulkanEngine::init()
{

}

//------------------------------------------------------------------------------
//
//------------------------------------------------------------------------------
void VulkanEngine::cleanup()
{

}

//------------------------------------------------------------------------------
//
//------------------------------------------------------------------------------
void VulkanEngine::run()
{

}
```

Опеределим файл, включающий все необходимые нам заголовки для движка, в частности заголовочные файлы Vulkan, а так же сдесь будем описывать все необходимые типы данных, которые будем использовать в проекте

**vk_types.h**
```cpp
#ifndef     VK_TYPES_H
#define     VK_TYPES_H

#include    <vulkan/vulkan.h>

#endif
```

Теперь мы можем приступить к инициализации Vulkan API

## Создание экземпляра Vulkan

Первым отличием Vulkan от OpenGL является то, что Vulkan не имеет глобального состоянияб подобного конечному автомату OpenGL. Состояние вашего приложения, использующего Vulkan, логически отделено от других подобных приложений, и для описания этого состояния необходимо сосздать как минимум один объект, называемый *экземпляром* Vulkan. Поэтому, первым шагом инициализации Vulkan в нашем приложении будет создание экземпляра, представляемого в Vulkan объектом типа `VkInstance`. Определим дескриптор экземпляра в приватной части класса VulkanEngine

```cpp
class VulkanEngine
{
public:

    VulkanEngine() = default;

    ~VulkanEngine() = default;

    /// Инициализация движка
    void init();

    /// Очистка структур данных движка
    void cleanup();

    /// Запуск движка
    void run();

private:

    /// Экземпляр Vulkan
    VkInstance  instance;
};
```

Дескриптор представляет собою число размером 64 бита (причем вне зависимости от разрядности платформы, на которой работает приложение) и через него мы ссылемся на конкретный экземпляр Vulkan.